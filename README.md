# wallet-service

## Инструкция по запуску проекта

Для запуска проекта потребуется:
- java 17
- docker
- доступ в интернет (при необходимости)

1. Перед запуском программы, в корневой папке "shared-wallet-service" выполните команду "mvn clean install";
2. Перед запуском программы, в корневой папке "starter-aspect-logger" выполните команду "mvn clean install"
3. Перед запуском программы, в корневой папке "starter-aspect-audit" выполните команду "mvn clean install"
4. Перед запуском программы, в корневой папке "wallet-service" выполните команду "mvn compile" 
с целью подтянуть недостающие зависимости и не трогать тесты;
5. Запустите докер;
6. В корневой папке "wallet-service" выполните команду "docker-compose up"
для создания базы данных и pgadmin (на всякий случай);
7. Теперь можно выполнить команду "mvn clean package" в корневой папке "wallet-service";
8. Можно запустить программу при помощи файла: "/wallet-service/src/main/java/io/ylab/walletservice/WalletServiceApplication.java"
9. Без аутентификации у вас открыт доступ к swagger. При запущенной программе введите в адресную строку: http://localhost:8081/swagger-ui/index.html
Далее введите в поиске свагера: /v3/api-docs
10. Без аутентификации у вас открыт доступ к 2 операциям: регистрация и авторизация;
11. После аутентификации в headers скопируйте token и в постмане добавьте его в поле хедера "Authorization" - "Bearer token";
12. К проекту прикреплены коллекции для Postman в папке postmanCollections.

Порт приложения: 8081

Если необходим доступ к pgadmin:
1. введите в адресной строке localhost:888;
2. login: admin@admin.admin;
3. password: admin;
4. зарегистрируйте сервер:
- имея хоста: pg_db;
- порт: 5432;
- логин: ylab;
- пароль: ylab.

---

## Описание функционала:

### Операции с Пользователями

1. Создание пользователя:
    - Пользователь может быть создан при самостоятельной регистрации;
    - Информация о создании пользователя, входе в профиль и выходе из него отправляется в аудит.
2. Просмотр пользователей:
    - Пользователь может получить информацию о своём login после верификации в меню пользователя;
4. Дополнительный функционал:
    - В рамках одного сеанса программы пользователь программы может:
      - создать множество пользователей при помощи регистрации;
      - входить и выходить из аккаунта множество раз.

### Операции с Транзакциями

1. Создание Транзакции:
    - Для создания транзакции пользователь должен войти в аккаунт.
    - В консоли, пользователь вводит:
      - id транзакции, которое должно быть уникальное и не пустое слово;
      - вид транзакции (дебит/кредит);
      - номер аккаунта.

2. Просмотр Транзакций:
   В меню пользователя доступна функция просмотра истории всех транзакций совершённых пользователем.
   Информация о создании транзакции и просмотре истории транзакций отправляется в аудит.
   

### Операции со Счётом (Account)

1. Создание счёта:
    - На данный момент реализовано автоматическое создание счёта при регистрации пользователя.
    - Информация о создании счёта отправляется в аудит.
2. Просмотр счёта:
    - доступен в меню пользователя после входа в систему.

### Аналитика и отчетность

1. Создание Аудита:
    - Аудит создаётся автоматически при:
      - Создании пользователя. Входе и выходе из профиля;
      - Создании транзакции и просмотре истории транзакций;
      - Создании счёт.
    - Пользователи не имеют доступа к созданию аудита.
2. Просмотр Аудита:
    - Пользователь может просмотреть аудит своего профиля в меню после входа в профиль.
