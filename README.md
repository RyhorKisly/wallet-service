# wallet-service

## Задания, в соответствии с которыми создавалось приложение (на каждой ветке есть новые задания).
#### Описание
Необходимо обновить сервис, который вы разработали в первом задании согласно следующим требованиям и ограничениям

#### Требования:
- Все взаимодействие должно теперь осуществляться через отправку HTTP запросов
- Сервлеты должны принимать JSON и отдавать также JSON
- Использовать понятное именование эндпоинтов
- Возвращать разные статус-коды
- Добавить DTO (если ранее не было заложено)
- Для маппинга сущностей в дто использовать MapStruct
- Реализовать валидацию входящих ДТО
- Аудит переделать на аспекты
- Также реализовать на аспектах выполнение любого метода (с замером времени выполнения)
- Сервлеты должны быть покрыты тестами
- Метод логина должен выдавать JWT, остальные методы должны быть авторизационными и валидировать JWT

## Инструкция по запуску проекта

Для запуска проекта потребуется:
- java 17
- maven
- tomcat
- docker
- доступ в интернет (при необходимости)

1. Перед запуском программы, в корневой папке "wallet-service" выполните команду "mvn compile" 
с целью подтянуть недостающие зависимости и не трогать тесты;
2. Запустите докер;
3. В корневой папке "wallet-service" выполните команду "docker-compose up"
для создания базы данных и pgadmin (на всякий случай);
5. Теперь можно выполнить команду "mvn clean package" в корневой папке "wallet-service";
6. Для использования проекта запустите tomcat;
7. Программа автоматически создаст базу данных и наполнит её;
8. Без аутентификации у вас открыт доступ только 2 операциям: регистрация и авторизация;
9. После аутентификации в headers скопируйте token и в постмане добавьте его в поле хедера "Authorization" - "Bearer token";
10. К проекту прикреплены коллекции для Postman в папке postmanCollections.

Если необходим доступ к pgadmin:
1. введите в адресной строке localhost:888;
2. login: admin@admin.admin;
3. password: admin;
4. зарегистрируйте сервер:
- имея хоста: pg_db;
- порт: 5432;
- логин: ylab;
- пароль: ylab.
